<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="./desktop.css" />
<link rel="stylesheet" href="./mobile.css" media="(max-width:800px)" />

<template id="answer-component">
  <style>
    /*  æ¯ä¸€ä¸ªç­”æ¡ˆ */


    /* ç­”æ¡ˆå¤´åƒ */
    #answer-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: antiquewhite;
      flex-shrink: 0;
      margin-right: 10px;
      /* é…ç½®å¤´åƒå›¾ç‰‡ */
      background-image: url(https://img0.baidu.com/it/u=4024631678,647033835&fm=253&fmt=auto&app=120&f=JPEG?w=800&h=800);
      background-size: contain;
      background-repeat: no-repeat;
    }

    #answer-text {
      padding: 20px;
      border-radius: 20px;
      background: #eff6ff;

    }
  </style>


  <div id="answer-avatar"></div>
  <div id="answer-content">
    <div id="answer-text"></div>
    <div id="answer-audio"></div>
  </div>

</template>


<template id="input-component">
  <style>
    #user-input {
      width: 80%;
      height: 3rem;
      resize: none;
      overflow: hidden;
      left: 22vw;
      padding: 12px;
      font-size: 1rem;
      line-height: 1.5rem;
      border: none;
      border-radius: 8px;
      background-color: #f3f4f6;
      anchor-name: --text-area;
    }



    /* å‘é€æŒ‰é’® */
    #send-button {
      min-width: 80px;
      font-size: 1rem;
      height: 3rem;
      border-radius: 8px;
      border: none;
      background: #07c160;
      padding: 10px;
      color: white;
      position: absolute;
      position-anchor: --text-area;
      left: anchor(right);
      align-self: anchor-center;
      margin-left: 4px;
    }



    /*å›¾ç‰‡è¾“å…¥*/
    #imageInput {
      position: absolute;
      position-anchor: --text-area;
      bottom: anchor(top);
      left: anchor(left);
      anchor-name: --image-input;
    }

    /*å›¾ç‰‡é¢„è§ˆ*/
    #imagePreview {
      display: none;
      border-radius: 5px;
      max-width: 100px;
      max-height: 100px;

      position: absolute;
      position-anchor: --image-input;
      bottom: anchor(bottom);
      left: anchor(right);
    }

    #title {
      position: absolute;
      left: 30%;
      bottom: 180%;
      font-size: 3rem;
      font-weight: bolder;
      color:red;
    }

    @media (max-width:800px) {
      #imageInput {
        display: block;
        position: relative;
        width: 200px;
        left: 20px;
        bottom: 80px;
        display: inline-block;
        width: 100px;
      }

      #imagePreview {
        position: absolute;
        left: 100px;
        top: -100px;
      }

      #title{
        left: 8%;
        font-size: 3rem;
      }

    }
  </style>

  <div id="title">è¯†å›¾ğŸ¦‰ä¸€ä¸‹</div>

  <textarea name="user-input" id="user-input" placeholder="é—®ç‚¹ä»€ä¹ˆå§"></textarea>

  <button id="send-button">AIä¸€ä¸‹</button>

  <!-- å›¾ç‰‡è¾“å…¥ -->
  <input type="file" id="imageInput" accept="image/*" value="ä¸Šä¼ å›¾ç‰‡">

  <!-- æ˜¾ç¤ºå›¾ç‰‡é¢„è§ˆ -->
  <img id="imagePreview" alt="Image Preview">




</template>

<template id="question-component">

  <style>
    /* é—®é¢˜å¤´åƒquestionAvatar */
    #question-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: rgb(58, 205, 131);
      flex-shrink: 0;
      margin-left: 10px;

      /* é…ç½®å¤´åƒå›¾ç‰‡ */
      background-image: url(https://img0.baidu.com/it/u=3837464795,952037884&fm=253&fmt=auto&app=120&f=JPEG?w=800&h=800);
      background-size: contain;
      background-repeat: no-repeat;
    }

    #question-content {
      padding: 20px;
      border-radius: 20px;
      background: #eff6ff;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    #question-image {
      max-width: 300px;
      max-height: 300px;
      border-radius: 5px;
    }

    @media (max-width:800px) {
      #question-content {
        width: 75%;
      }

    }
  </style>

  <div id="question-avatar"></div>
  <div id="question-content">
    <div id="question-text"></div>
    <img id="question-image" />
  </div>


</template>


<div id="primary"></div>


<div id="guide">
  ä½ å¯ä»¥å°è¯•è¿™æ ·æé—®ï¼š<br><br>
  è¿™å¼ å›¾ç‰‡æè¿°äº†ä»€ä¹ˆæ™¯è±¡ï¼Ÿ<br><br>
  è¿™å¼ å›¾ç‰‡ä¸­çš„å°ç‹—åœ¨å›¾ç‰‡çš„å“ªä¸ªä½ç½®ï¼Ÿæ˜¯ä»€ä¹ˆé¢œè‰²çš„ï¼Ÿ<br><br>
  æå–å‡ºè¿™å¼ å›¾ç‰‡ä¸­çš„æ–‡å­—ï¼Œåªè¾“å‡ºç»“æœ<br><br>
  æ›´å¤šåº”ç”¨ï¼Œå¾…ä½ æ¢ç´¢...... <br><br>
</div>

<!-- å®šä¹‰å„ç§ç»„ä»¶ -->
<script type="module" src="./define-component.js"></script>

<input-component></input-component>

<script type="module" src="./handle-input.js" defer></script>

<script type="module" src="./image2Base64.js" defer></script>