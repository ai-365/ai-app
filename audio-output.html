<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="./desktop.css" />

<template id="answer-component">
  <style>
    /*  每一个答案 */


    /* 答案头像 */
    #answer-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: antiquewhite;
      flex-shrink: 0;
      margin-right: 10px;
      /* 配置头像图片 */
      background-image: url(https://img0.baidu.com/it/u=4024631678,647033835&fm=253&fmt=auto&app=120&f=JPEG?w=800&h=800);
      background-size: contain;
      background-repeat: no-repeat;
    }

    #answer-text {
      padding: 20px;
      border-radius: 20px;
      background: #eff6ff;

    }
  </style>


  <div id="answer-avatar"></div>
  <div id="answer-content">
    <div id="answer-text"></div>
    <div id="answer-audio"></div>
  </div>

</template>



<template id="input-component">
  <style>
    #user-input {
      width: 80%;
      height: 3rem;
      resize: none;
      overflow: hidden;
      left: 22vw;
      padding: 12px;
      font-size: 1rem;
      line-height: 1.5rem;
      border: none;
      border-radius: 8px;
      background-color: #f3f4f6;
      anchor-name: --text-area;
    }



    /* 发送按钮 */
    #send-button {
      font-size: 1rem;
      height: 3rem;
      border-radius: 8px;
      border: none;
      background: #07c160;
      padding: 10px;
      color: white;
      position: absolute;
      position-anchor: --text-area;
      left: anchor(right);
      align-self: anchor-center;
      margin-left: 4px;
    }

    @media (max-width:800px) {
      #imageInput{
        position: fixed;
        bottom:50px;
        left:20px;
        display:inline-block;
        width:100px;
      }

    }

    /*图片输入*/
    #imageInput {
      position: absolute;
      position-anchor: --text-area;
      bottom: anchor(top);
      left: anchor(left);
      anchor-name: --image-input;
    }

    /*图片预览*/
    #imagePreview {
      display: none;
      border-radius: 5px;
      max-width: 100px;
      max-height: 100px;

      position: absolute;
      position-anchor: --image-input;
      bottom: anchor(bottom);
      left: anchor(right);

    }
  </style>


  <textarea name="user-input" id="user-input" placeholder="问点什么吧"></textarea>

  <button id="send-button">AI一下</button>

  <!-- 图片输入 -->
  <input type="file" id="imageInput" accept="image/*" value="上传图片">

  <!-- 显示图片预览 -->
  <img id="imagePreview" alt="Image Preview">




</template>

<template id="question-component">

  <style>
    /* 问题头像questionAvatar */
    #question-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: rgb(58, 205, 131);
      flex-shrink: 0;
      margin-left: 10px;

      /* 配置头像图片 */
      background-image: url(https://img0.baidu.com/it/u=3837464795,952037884&fm=253&fmt=auto&app=120&f=JPEG?w=800&h=800);
      background-size: contain;
      background-repeat: no-repeat;
    }

    #question-content {
      padding: 20px;
      border-radius: 20px;
      background: #eff6ff;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    #question-image {
      max-width: 300px;
      max-height: 300px;
      border-radius: 5px;
    }
  </style>

  <div id="question-avatar"></div>
  <div id="question-content">
    <div id="question-text"></div>
    <img id="question-image" />
  </div>


</template>


<div id="primary"></div>


<audio id="audioPlayer" controls style="position:fixed;left:10vw;bottom:10vw;z-index:50">

</audio>




<!-- 定义各种组件 -->
<script type="module" src="defineComponent.js"></script>

<input-component></input-component>

<script type="module" src="./user-input.js" defer></script>
<script type="module" src="./image-preview-and-base64.js" defer></script>